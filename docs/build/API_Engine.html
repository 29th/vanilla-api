<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>API_Engine | Vanilla API</title>
                    <link rel="stylesheet" type="text/css" href="stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="classes.html">Classes</a></li>
                        <li><a href="interfaces.html">Interfaces</a></li>
            <li><a href="doc-index.html">Index</a></li>
            
        </ul>

        <div id="title">Vanilla API</div>

            <div class="type">Class</div>
    <h1><a href=".html"></a>API_Engine</h1>
    </div>
        <div class="content">
                <p>class    <strong>API_Engine</strong></p>

            <div class="description">
            <p>The main API engine</p>
            <p>This class handles authentication and delegation of API requests and their<br />
 corresponding methods.</p>
        </div>
    
    
    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    static&nbsp;
                </td>
                <td class="last">
                    <a href="#method_Authenticate">Authenticate</a>()
                    <p>Token-based, per-request authentication</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;string
                </td>
                <td class="last">
                    <a href="#method_Signature">Signature</a>(array $Request)
                    <p>Generate a signature from a request array</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;int|null
                </td>
                <td class="last">
                    <a href="#method_GetUserID">GetUserID</a>(string $Username, string $Email)
                    <p>Get a user ID using either a username or an email</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;string
                </td>
                <td class="last">
                    <a href="#method_UUIDSecure">UUIDSecure</a>()
                    <p>Generates a Universally Unique Identifier, version 4</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;array
                </td>
                <td class="last">
                    <a href="#method_MethodHandler">MethodHandler</a>(string $Path, string $Method, string $Class)
                    <p>Delegate methods to a specified API class</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_Dispatch">Dispatch</a>($Request)
                    <p>Map the API request to the appropriate controller</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_Exception">Exception</a>($Exception)
                    <p></p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;array
                </td>
                <td class="last">
                    <a href="#method_ParseFormData">ParseFormData</a>()
                    <p>Parse raw Form Data and return it as an array</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method_Authenticate">
        <div class="location">at line 32</div>
        <code>        static    public            
    <strong>Authenticate</strong>()</code>
    </h3>
    <div class="details">
        <p>Token-based, per-request authentication</p>
        <p>This function takes the entire request string and turns the query into an<br />
 array of data. It then uses all the data to generate a signature the same<br />
 way it got generated on the client. If the server signature and client<br />
 token match, the client is considered legimate and the request is served.<br />
<br />
 Based on initial work by Diego Zanella</p>
        <div class="tags">
            
            
            
                    </div>
    </div>

                <h3 id="method_Signature">
        <div class="location">at line 123</div>
        <code>        static    public            string
    <strong>Signature</strong>(array $Request)</code>
    </h3>
    <div class="details">
        <p>Generate a signature from a request array</p>
        <p>This function takes an array of data, sorts the keys alphabetically and<br />
 generates an HMAC hash using a specified application secret. The hash<br />
 can then be used to validate incoming API calls as only the client and<br />
 server knows the secret key used for creating the hash.<br />
<br />
 Based on initial work by Diego Zanella</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>array</td>
                <td>$Request</td>
                <td>Array of request data uesd for generating the signature hash</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>An HMAC-SHA256 hash generated from the request data</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_GetUserID">
        <div class="location">at line 159</div>
        <code>        static    public            int|null
    <strong>GetUserID</strong>(string $Username, string $Email)</code>
    </h3>
    <div class="details">
        <p>Get a user ID using either a username or an email</p>
        <p>Note: if both a username and an email are specified, only the username<br />
 will be used. This is to prevent abusing of the function by passing two<br />
 parameters at a time and hoping to get a User ID.<br />
<br />
 Based on initial work by Diego Zanella</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$Username</td>
                <td>Username of the user whose ID we wish to get</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$Email</td>
                <td>Email of the user whose ID we wish to get</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>int|null</td>
            <td>User ID if a username or an email has been specified, otherwise NULL</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_UUIDSecure">
        <div class="location">at line 186</div>
        <code>        static    public            string
    <strong>UUIDSecure</strong>()</code>
    </h3>
    <div class="details">
        <p>Generates a Universally Unique Identifier, version 4</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>A UUID, made up of 32 hex digits and 4 hyphens.</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_MethodHandler">
        <div class="location">at line 225</div>
        <code>        static    public            array
    <strong>MethodHandler</strong>(string $Path, string $Method, string $Class)</code>
    </h3>
    <div class="details">
        <p>Delegate methods to a specified API class</p>
        <p>This function takes a request URI and an HTTP method and uses these to<br />
 delegate an action to the specified API class. In return, the API returns<br />
 an array of data which we later to map the request to an application or<br />
 plugin controller.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$Path</td>
                <td>The full request path excluding queries</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$Method</td>
                <td>The request method issued by the client</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$Class</td>
                <td>The class that we wish to delegate an action to</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td>An array of data returned by the API class</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Dispatch">
        <div class="location">at line 315</div>
        <code>            public            
    <strong>Dispatch</strong>($Request)</code>
    </h3>
    <div class="details">
        <p>Map the API request to the appropriate controller</p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$Request</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_Exception">
        <div class="location">at line 377</div>
        <code>            public            
    <strong>Exception</strong>($Exception)</code>
    </h3>
    <div class="details">
        <p></p>
        <p></p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$Exception</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_ParseFormData">
        <div class="location">at line 391</div>
        <code>        static    public            array
    <strong>ParseFormData</strong>()</code>
    </h3>
    <div class="details">
        <p>Parse raw Form Data and return it as an array</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td>Parsed array of data derived from the raw Form Data submitted in the request.</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
